<turbo-frame id="action-<%= @action.id %>">
    <div class="action-container p-3 mt-3" <%= "data-controller=\"tippy\" data-tippy-content=\"#{@action.description}\"".html_safe if @action.description.present? %>>
        <div class="d-flex justify-content-center align-items-center gap-3">
            <h3 class="text-truncate"><%= @action.name %></h3>
            <% if @action.plugin? %>
                <%= link_to toggle_action_path(params[:uuid], @action), class: "d-block", data: { turbo_method: :post } do %>
                    <div class="form-check form-switch" style="cursor: pointer" data-controller="tippy" data-tippy-content="<%= @enabled ? "Click to disable" : "Click to enable" %>" data-tippy-placement="right">
                        <input type="checkbox" role="switch" class="form-check-input" style="cursor: pointer" <%= "checked".html_safe if @enabled %>>
                    </div>
                <% end %>
            <% end %>
        </div>
        <div class="d-flex justify-content-center gap-2">
            <% if @action.plugin? %>
                <%= link_to "Edit plugin", action_edit_path(params[:uuid], @action), class: "btn btn-primary" %>
            <% else %>
                <%= link_to "Dispatch", action_dispatch_path(params[:uuid], @action), class: "btn btn-success", data: { turbo_method: :post } %>
                <%= link_to "Edit action", action_edit_path(params[:uuid], @action), class: "btn btn-primary"  %>
            <% end %>
        </div>
    </div>
</turbo-frame>