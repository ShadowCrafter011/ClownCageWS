<turbo-frame id="action-<%= @action.id %>">
    <div class="action-container p-3 mt-3" data-controller="tippy" data-tippy-content="<%= @action.name %>: <%= @action.description %>">
        <div class="d-flex justify-content-center align-items-center gap-3">
            <h3 class="text-truncate"><%= @action.name %></h3>
            <% if @action.plugin? %>
                <%= link_to toggle_action_path(params[:uuid], @action), class: "d-block", data: { turbo_method: :post } do %>
                    <div class="form-check form-switch" style="cursor: pointer" data-controller="tippy" data-tippy-content="<%= @enabled ? "Click to disable" : "Click to enable" %>" data-tippy-placement="right">
                        <input type="checkbox" role="switch" class="form-check-input" style="cursor: pointer" <%= "checked".html_safe if @enabled %>>
                    </div>
                <% end %>
            <% end %>
        </div>
        <div class="d-flex justify-content-center gap-2">
            <% if @action.plugin? %>
                <%= link_to "Edit plugin", action_edit_path(params[:uuid], @action), class: "btn btn-primary d-flex justify-content-center align-items-center" %>
            <% else %>
                <%= link_to @dispatch_button_name, action_dispatch_path(params[:uuid], @action), class: "btn btn-success d-flex justify-content-center align-items-center", data: @dispatch_data, "data-tippy-content": "Dispatch action" %>
                <% if @action.editable %>
                    <%= link_to "Edit action", action_edit_path(params[:uuid], @action), class: "btn btn-primary d-flex justify-content-center align-items-center", data: { controller: "tippy", tippy_content: "Edit consumer data for the action or dispatch it with custom data", tippy_placement: "bottom" }  %>
                <% end %>
            <% end %>
        </div>
    </div>
</turbo-frame>